# Adapted from TestFX
version: "{branch} {build}"

environment:
  matrix:
    - APPVEYOR_BUILD_WORKER_IMAGE: Visual Studio 2017
      JAVA_HOME: C:\Program Files\Java\jdk9
    - APPVEYOR_BUILD_WORKER_IMAGE: Ubuntu
      JAVA_HOME: /usr/lib/jvm/java-9-openjdk-amd64

shallow_clone: true

build:
  verbosity: detailed

build_script:
  - cmd: java -version
  - cmd: gradlew.bat --version --no-daemon

test_script:
  - gradlew.bat check --info --stacktrace --no-daemon

cache:
- C:\Users\appveyor\.gradle
